# Template file for 'maui-shelf'
pkgname=maui-shelf
version=2.1.2
revision=1
wrksrc=shelf-${version}
build_style=cmake
hostmakedepends="extra-cmake-modules gettext qt5-qmake pkg-config qt5-host-tools kcoreaddons qt5-declarative"
makedepends="qt5-declarative-devel qt5-devel poppler-qt5-devel ki18n-devel
mauikit-devel mauikit-filebrowsing-devel kcoreaddons-devel"
short_desc="Document and EBook collection manager"
maintainer="Enrico Belleri <idesmi@protonmail.com>"
license="GPL-3.0-or-later"
homepage="https://mauikit.org"
distfiles="${KDE_SITE}/maui/shelf/${version}/shelf-${version}.tar.xz"
checksum=b0a3d488d8b29f34b1e1032b4566a478a838eefc20e69a239077398e68406738

maui-shelf-devel_package() {
	short_desc="Development files for maui-shelf"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/cmake
	}
}

case "$XBPS_TARGET_MACHINE" in
	armv[567]*)
		export CXXFLAGS+=" -Wno-error=cast-align"
	;;
esac
